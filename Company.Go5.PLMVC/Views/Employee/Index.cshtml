
@model IEnumerable<Employee>


@{
    ViewData["Title"] = "Index";
}
<h1>All Employees  </h1>

<br/>
<br/>


<form>
    <div>

        <input id="SearchInput" name="SearchInput" placeholder="search by name " class="form-control" />
        
        <br />
        <br />

<input type="submit" value="Search" class="btn btn-success" />
    </div>

</form>


<br/>
<br/>

<a  asp-action="CreateForm" asp-controller="Employee"  class="btn btn-primary"> Create Employee </a>




<br/>
<br/>



@if (Model.Count() > 0 & Model is not null)
{
    <table class=" table table-hover table-striped">

        <thead>
            <tr>


                <th> Image</th>
                <th> Name</th>
                <th>Age  </th>
                <th> Email</th>
                <th> Phone</th>
                <th> Address</th>
                <th> Salary </th>
                <th> @* @Html.DisplayNameFor(p=>p.HiringDate) *@ Hiring Date </th>

                <th> Department  </th>

                <th> Details </th>
                <th> Update </th>
                <th> Delete </th>
            </tr>
        </thead>

        <tbody>
            @foreach(var item in Model)
            {
                <tr>

                    <td>

                      
                        <img class="image-fluid rounded-circle" src="~/files/images/@item.ImageName" />


                        </td>


                    <td>@item.Name</td>
                    <td>@item.Age</td>
                    <td>@item.Email</td>
                    <td>@item.Phone</td>
                    <td>@item.Address</td>
                    <td>@item.Salary</td>
                    <td>@item.HiringDate</td>


                    @{
                        if(item.WorkFor is  null)
                        {
                            <td>No department </td>
                        }
                        else
                        {
                           
                            <td>@item.WorkFor?.Name</td>
                        }
                    }




                    <td>
                        <a asp-action="Details"
                           asp-controller="Employee"
                          asp-route-id="@item.Id"
                           class="btn btn-warning">
                            Details
                        </a>

                    </td>


                    <td>
                        <a asp-action="EditForm" asp-route-id="@item.Id" asp-controller="Employee" class="btn btn-success"> Update </a>
                    </td>

                    <td>
                        <a asp-action="DeleteForm" asp-route-id="@item.Id"  asp-controller="Employee" class="btn btn-danger"> Delete </a>
                    </td>
                </tr>

            }

        </tbody>

    </table>


}
else
{
    <div>
        <h4 class="mt-4 alert alert-info">
            There is No Employees 
        </h4>
    </div>
}